1 + 1
1
2 * 2
(1 + 2) * 2
x <- all.equal(1, 1+1e-5)
x
print(x)
if(x){print(1)}
installed.packages(dplyr)
installed.packages(tidyr)
# Define the function FindTop()
FindTop        <- function(N){
MoviePage  <- readLines('https://movie.douban.com/top250', encoding='UTF-8')
Pattarn    <- '<span class=\"title\">&nbsp;/&nbsp;([^<]*)</span>'
Lines      <- grep(Pattarn, MoviePage, value=TRUE)
Lines      <- sub(Pattarn,  '\\1', Lines )
Names      <- sub('^ *', '', Lines)
Names      <- sub('&#39;', "'", Names)
print(Names[1:N])
}
# Call the function with arguement 5 and 10
FindTop(5)
FindTop(10)
FindTop(25)
which(1==1)
which(1==1 && 2==2)
which(x==1 && x==2)
x <- seq(1,10,1)
which(x==1 && x==2)
x==1
library(ggplot2)
# COVID-19 daily cases
library(dplyr)
library(lubridate)
library(forecast)
# Read in the data
COVID_data <- read.csv(file = "D://class/data.csv", header = T)
head(COVID_data)
# Covert to tibble
COVID_tbl <- as_tibble(COVID_data)
# Get global daily new cases
COVID_tbl <- COVID_tbl %>%
mutate(dateRep = as.Date(dateRep,format='%d/%m/%Y')) %>%
group_by(dateRep) %>%
summarize(global_cases = sum(cases))
# Quick plot
plot(COVID_tbl$dateRep,COVID_tbl$global_cases, type="l",xlab="Date",ylab="Global cases")
# Only use data from Mar.
COVID_tbl <- COVID_tbl %>%
filter(dateRep >= as.Date("2020-04-01"))
# Convert to ts
# Start date of the time series, read from the .csv file
Date_start <- as.Date("2020-04-01")
# End date of the time series, read from the .csv file
Date_end   <- as.Date("2020-11-08")
# Get the Julian Day of the end date
JD_start   <- yday(Date_start)
# Convert the vector data to a time series
global_cases_ts <- ts(COVID_tbl$global_cases, start=c(2020,JD_start),frequency=365)
# The indicator of the time series
inds            <- seq(Date_start, Date_end, by = "day")
str(global_cases_ts)
plot(inds,global_cases_ts)
global_cases_ts_log <- log(global_cases_ts)
plot(inds,global_cases_ts_log)
acf(global_cases_ts_log)
pacf(global_cases_ts_log)
global_cases_ts_log_d1 <- diff(global_cases_ts_log)
plot(global_cases_ts_log_d1)
acf(global_cases_ts_log_d1)
pacf(global_cases_ts_log_d1)
# Automated forecasting using an ARIMA model
model <- auto.arima(global_cases_ts_log)
#
days_forecast  <- 30
days_in_plot   <- 30
forecast_15days <- forecast(model, days_forecast)
plot(forecast(model, days_forecast), include = days_in_plot, xlab="Time", ylab="log(global cases)",type="o",lwd=2)
forecast_15days
# Read in the data
COVID_data2 <- read.csv(file = "D://class/data.csv", header = T)
COVID_tbl2 <- as_tibble(COVID_data2)
# Get global daily new cases
COVID_tbl2 <- COVID_tbl2 %>%
mutate(dateRep = as.Date(dateRep,format='%d/%m/%Y')) %>%
group_by(dateRep) %>%
summarize(global_cases = sum(cases))
COVID_tbl2
tail(COVID_tbl2)
day_forward <- yday(as.Date("2020-11-09")) - yday(Date_end)
exp(forecast_15days$mean[day_forward])
exp(forecast_15days$lower[day_forward,1])
exp(forecast_15days$upper[day_forward,1])
(500064-462259)/462259
(500064-462259)/462259*100
# COVID-19 daily cases
library(dplyr)
library(lubridate)
library(forecast)
# Read in the data
COVID_data <- read.csv(file = "D://class/data_20201108.csv", header = T)
head(COVID_data)
# Covert to tibble
COVID_tbl <- as_tibble(COVID_data)
# Get global daily new cases
COVID_tbl <- COVID_tbl %>%
mutate(dateRep = as.Date(dateRep,format='%d/%m/%Y')) %>%
group_by(dateRep) %>%
summarize(global_cases = sum(cases))
# Quick plot
plot(COVID_tbl$dateRep,COVID_tbl$global_cases, type="l",xlab="Date",ylab="Global cases")
# Only use data from April 01
COVID_tbl <- COVID_tbl %>%
filter(dateRep >= as.Date("2020-04-01"))
# Convert to ts
# Start date of the time series, read from the .csv file
Date_start <- as.Date("2020-04-01")
# End date of the time series, read from the .csv file
Date_end   <- as.Date("2020-11-08")
# Get the Julian Day of the end date
JD_start   <- yday(Date_start)
# Convert the vector data to a time series
global_cases_ts <- ts(COVID_tbl$global_cases, start=c(2020,JD_start),frequency=365)
# The indicator of the time series
inds            <- seq(Date_start, Date_end, by = "day")
# Check structure
str(global_cases_ts)
# Plot time series
plot(inds,global_cases_ts)
# Data transform with log
global_cases_ts_log <- log(global_cases_ts)
plot(inds,global_cases_ts_log)
acf(global_cases_ts_log)
pacf(global_cases_ts_log)
global_cases_ts_log_d1 <- diff(global_cases_ts_log)
plot(global_cases_ts_log_d1)
acf(global_cases_ts_log_d1)
pacf(global_cases_ts_log_d1)
# Automated forecasting using an ARIMA model
model <- auto.arima(global_cases_ts_log)
#
days_forecast  <- 15
days_in_plot   <- 30
forecast_15days <- forecast(model, days_forecast)
plot(forecast(model, days_forecast), include = days_in_plot, xlab="Time", ylab="log(global cases)",type="o",lwd=2)
# 1st day
day_forward <- yday(as.Date("2020-11-09")) - yday(Date_end)
exp(forecast_15days$mean[day_forward])
exp(forecast_15days$lower[day_forward,1])
exp(forecast_15days$upper[day_forward,1])
# Nov 30
day_forward <- yday(as.Date("2020-11-30")) - yday(Date_end)
exp(forecast_15days$mean[day_forward])
exp(forecast_15days$lower[day_forward,1])
exp(forecast_15days$upper[day_forward,1])
# Read in the data
COVID_data2 <- read.csv(file = "D://class/data.csv", header = T)
COVID_tbl2 <- as_tibble(COVID_data2)
# Get global daily new cases
COVID_tbl2 <- COVID_tbl2 %>%
mutate(dateRep = as.Date(dateRep,format='%d/%m/%Y')) %>%
group_by(dateRep) %>%
summarize(global_cases = sum(cases))
tail(COVID_tbl2)
# Nov. 09:
# Predicted value: 500,064 (455,177, 549,378)
# Real value: 462,259
# Relative bias: 8.2%
model
# Lab 04
# COVID-19 daily cases
#--------------------------------------------
# 1.1
# Load libraries
library(dplyr)
library(lubridate)
library(forecast)
#--------------------------------------------
# 1.2
# Read in the COVID-19 data
COVID_data <- read.csv(file = "D://class/data_20201108.csv", header = T)
# Check the variable names
head(COVID_data)
# Convert the data.frame to a tibble
COVID_tbl <- as_tibble(COVID_data)
#--------------------------------------------
# 1.3
# Get global daily new cases
COVID_tbl <- COVID_tbl %>%
mutate(dateRep = as.Date(dateRep,format='%d/%m/%Y')) %>%
group_by(dateRep) %>%
summarize(global_cases = sum(cases))
#--------------------------------------------
# 1.4
# Quick plot
plot(COVID_tbl$dateRep,COVID_tbl$global_cases,
type="l",xlab="Date",ylab="Global cases")
# Lab 04
# COVID-19 daily cases
#--------------------------------------------
# 1.1
# Load libraries
library(dplyr)
library(lubridate)
library(forecast)
#--------------------------------------------
# 1.2
# Read in the COVID-19 data
COVID_data <- read.csv(file = "D://class/data_20201108.csv", header = T)
# Check the variable names
head(COVID_data)
# Convert the data.frame to a tibble
COVID_tbl <- as_tibble(COVID_data)
#--------------------------------------------
# 1.3
# Get global daily new cases
COVID_tbl <- COVID_tbl %>%
mutate(dateRep = as.Date(dateRep,format='%d/%m/%Y')) %>%
group_by(dateRep) %>%
summarize(global_cases = sum(cases))
#--------------------------------------------
# 1.4
# Quick plot
plot(COVID_tbl$dateRep,COVID_tbl$global_cases,
type="l",xlab="Date",ylab="Global cases")
# Lab 04
# COVID-19 daily cases
#--------------------------------------------
# 1.1
# Load libraries
library(dplyr)
library(lubridate)
library(forecast)
#--------------------------------------------
# 1.2
# Read in the COVID-19 data
COVID_data <- read.csv(file = "D://class/data_20201108.csv", header = T)
# Check the variable names
head(COVID_data)
# Convert the data.frame to a tibble
COVID_tbl <- as_tibble(COVID_data)
#--------------------------------------------
# 1.3
# Get global daily new cases
COVID_tbl <- COVID_tbl %>%
mutate(dateRep = as.Date(dateRep,format='%d/%m/%Y')) %>%
group_by(dateRep) %>%
summarize(global_cases = sum(cases))
#--------------------------------------------
# 1.4
# Quick plot
plot(COVID_tbl$dateRep,COVID_tbl$global_cases,
type="l",xlab="Date",ylab="Global cases")
13*13/60
2*24*3600*3/1000
2*24*3600*1/1000
43333*0.02
43333*0.02*2*1.2
43333*0.02*(1+2*1.2)
43333*1*(1+2*1.2)
43333*(1+2*1.2)
43333*0.5*(1+2*1.2)
43333*0.55*(1+2*1.2)
43333*1.01*0.5*(1+2*1.2)
43333*1.8
43333*1.8*1.01
43333*1.2*1.01
43333*1.01
52*1.01/12*1.8
52*1.01/12*1.8*10000
52*1.01/12*3*10000
436197.11+39600.30+118381.3
43,767*12
43767*12
13*13/60
15*13/60
14*13/60
205/375*700
205/375*700+349/750*300
205/375*700+399/750*300
205/375*700+499/750*300
205/375*700+599/750*300
205/375*700+550/750*300
255/375*700+399/750*300
245/375*700+399/750*300
235/375*700+399/750*300
240/375*700+399/750*300
700*375
300/750
700/375
(700/375/(300/750))
375*0.6
375*0.7
205/375*700+550/750*300
205/375*700+540/750*300
205/375*700+545/750*300
205/375*700+350/750*300
235/375*700+350/750*300
245/375*700+350/750*300
250/375*700+350/750*300
245/375*700+350/750*300
250/375*700+350/750*300
250/375*700+360/750*300
240/375*700+360/750*300
245/375*700+360/750*300
250/375*700+360/750*300
250/375*700+350/750*300
250/375*700+350/750*300
7665*12
7665*13
5509+489
1 + 1
1/40
(1+4)^2
100 ^ 0.5
sin(1)
sin(60/pi)
sin(30/pi)
log(10)
log10(10)
log(10)
exp(1)
?exp()
sin(2*pi)
log(e)
x <- 1
x
x <- 2
x
1 == 1
1 < 2
print(x)
print(x)
print("Hello World!")
print(MyName)
MyName <- "SUSTech"
print(MyName)
x <- 1
x <- 1:10
x
exp(x)
x[0]
x[1]
y <- c(0,0,0,0)
y[1]
y[0]
x <- 2
if(x < 5){
print(x)
}else{
print(x+1)
}
Check_Air_Quality<- function(AQI) {
#  Excellent
if (AQI <= 50) {
print("Air Quality is Excellent")
}
# Good
if (AQI > 50 && AQI <= 100) {
print("Air Quality is Good")
}
# Polluted, Level I
if (AQI > 100 && AQI <= 150) {
print("Air pollution, level I")
}
# Polluted, Level II
if (AQI > 150 && AQI <= 200) {
print("Air pollution, level II")
}
# Polluted, Level III
if (AQI > 200 && AQI <= 300) {
print("Air pollution, level III")
}
# Polluted, Level IV
if (AQI > 300) {
print("Air pollution, level IV")
}
}
Check_Air_Quality(100)
View(Check_Air_Quality)
x <- 1:10
for(i in x){
print(i)
}
install.packages("fun")
install.packages("fun")
library(fun)
getwd()
setwd("D://ese335")
?getwd()
