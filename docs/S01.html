<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Section 01 Introduction and R tutorial</title>

<script src="site_libs/header-attrs-2.24/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Environmental Data Analysis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Syllabus.html">
    <span class="fa fa-bell-o"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="Schedule.html">
    <span class="fa fa-calendar"></span>
     
    Schedule
  </a>
</li>
<li>
  <a href="Resource.html">
    <span class="fa fa-wrench"></span>
     
    Resource
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-laptop"></span>
     
    Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="A01.html">Assignment 01</a>
    </li>
    <li>
      <a href="A02.html">Assignment 02</a>
    </li>
    <li>
      <a href="A03.html">Assignment 03</a>
    </li>
    <li>
      <a href="A04.html">Assignment 04</a>
    </li>
    <li>
      <a href="A05.html">Assignment 05</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Section 01 Introduction and <code>R</code>
tutorial</h1>

</div>


<hr />
<div id="background-poll" class="section level1">
<h1>Background Poll</h1>
<p><strong>1. Have you taken any statistics course before?</strong></p>
<p><strong>2. Do you use the following languages for data
analysis?</strong></p>
<ul>
<li><code>MATLAB</code><br />
</li>
<li><code>Python</code><br />
</li>
<li><code>R</code></li>
<li><code>IDL</code></li>
<li>Other</li>
<li>No, I don’t</li>
</ul>
<p><strong>3. What do you use for data visualization?</strong></p>
<ul>
<li><code>MATLAB</code><br />
</li>
<li><code>Python</code><br />
</li>
<li><code>R</code></li>
<li><code>IDL</code></li>
<li><code>Origin</code></li>
<li>Other (but not Excel or similar spreadsheet software)</li>
<li>I use Excel, sometimes Power-point</li>
</ul>
<p><strong>4. On a scale of 0 (not any) to 10 (sophisticated), how to
describe your programming experience?</strong></p>
<p><strong>5. What is your laptop’s operating system (OS)?</strong></p>
<ul>
<li>Windows<br />
</li>
<li>macOS<br />
</li>
<li>Ubuntu</li>
<li>Other</li>
</ul>
<p><strong>6. Name one thing you want to achieve at the end of the
semester</strong> (open question)</p>
<hr />
</div>
<div id="statistical-topics-to-be-covered" class="section level1">
<h1>Statistical topics to be covered</h1>
<ul>
<li>Review of statistic basics
<ul>
<li>Probability density function, distributions, statistical hypothesis,
random draw, confidence interval, p-value</li>
</ul></li>
<li>Characteristics of environmental data sets
<ul>
<li>Types of environmental data sets, format of environmental data sets,
normal distribution, log normal distribution, log transformation,
detection limit, missing values</li>
</ul></li>
<li>Checking data sets: Quick summaries
<ul>
<li>Mean, median, quantile, standard deviation, variance, outlier<br />
</li>
</ul></li>
<li>Checking data sets: Quick plots
<ul>
<li>Histogram, barplot, boxplot, scatterplot, time series plot, image
plot, surface maps</li>
</ul></li>
<li>Comparisons between two groups
<ul>
<li>t distribution, assumptions of t-test, comparing means of two
groups, rank-Sum test, permutation test, Welch t-test, sign test,
signed-rank test</li>
</ul></li>
<li>Comparisons among several groups
<ul>
<li>One-way ANOVA, F-test, two-way ANOVA, linear combinations of group
means, multiple comparison procedures</li>
</ul></li>
<li>Correlation tests
<ul>
<li>Pearson’s test, Spearman’s test, Kendall’s test</li>
</ul></li>
<li>Simple linear regression
<ul>
<li>Least squares regression estimation, robustness of least squares
inferences, model assessment, fit assessment</li>
</ul></li>
<li>Multiple linear regression
<ul>
<li>Least squares estimates, model assessment, fit assessment</li>
</ul></li>
<li>Over-fitting and variable selection
<ul>
<li>Over-fitting, AIC, BIC, backward selection, forward selection,
step-wise selection</li>
</ul></li>
<li>Logistic regression
<ul>
<li>Binary responses, binomial responses, Poisson responses, building
logistic regression model</li>
</ul></li>
<li>Time series analysis
<ul>
<li>MA and AR model, SARIMA model fitting and prediction</li>
</ul></li>
<li>Cluster analysis
<ul>
<li>Hierarchical clustering, K-Means clustering</li>
</ul></li>
</ul>
<hr />
</div>
<div id="take-the-course-or-not" class="section level1">
<h1>Take the course or not?</h1>
<p>This course is designed for ESE undergraduates having no or weak data
analysis background, with emphasis on <code>R</code>.</p>
<p>Good reasons for <strong>not</strong> taking the course:</p>
<ul>
<li>After browsing the <a
href="https://zhu-group.github.io/ese335/Syllabus.html">syllabus</a> and
<a href="https://zhu-group.github.io/ese335/Schedule.html">schedule</a>,
there is nothing new for me</li>
<li>I am able to analyze, and visualize data sets through programming
efforts already</li>
<li>I want to learn other programming languages (<code>C</code>,
<code>C++</code>, <code>Java</code>, <code>MATLAB</code>,
<code>Python</code>, <code>IDL</code>, etc.)</li>
<li>I want to take an “easy” class to meet the graduation
requirement</li>
</ul>
<p>Bad reasons for <strong>not</strong> taking the course:</p>
<ul>
<li>Data analysis is intimidating; perhaps I can never learn it</li>
<li>I don’t have coding/programming experience</li>
<li>My project does not require programming efforts</li>
</ul>
<hr />
</div>
<div id="the-r-language" class="section level1">
<h1>The <code>R</code> language</h1>
<p><code>R</code> is the leading tool for statistics, data analysis, and
machine learning. It is more than a statistical package; it’s a
<strong>programming language</strong>, so you can create your own
objects, functions, and packages.</p>
<p>Academics and statisticians have developed <code>R</code> over two
decades. <code>R</code> now has one of the richest ecosystems to perform
data analysis. There are around <strong>16000 packages</strong>
available in CRAN (<a href="https://cran.r-project.org/">Comprehensive R
Archive Network</a>). It is possible to find a library for
<strong>whatever the analysis</strong> you want to perform. The rich
variety of libraries makes <code>R</code> the first choice for
statistical and data analysis. <code>R</code> also makes communicating
the findings with a presentation, document, or website very easy.</p>
<p>The following figure summaries important reasons for learning
<code>R</code>:</p>
<p><img src="figs/learn_R.png" alt="drawing" width="600"/></p>
<p><a
href="https://www.gapintelligence.com/system/pictures/568/content_why-learn-r1.jpg">Figure
source</a></p>
<hr />
</div>
<div id="first-look-at-rstudio" class="section level1">
<h1>First look at RStudio</h1>
<p>Follow <a
href="https://zhu-group.github.io/ese335/Resource.html#RStudio_Desktop">instructions</a>
to install RStudio.</p>
<p>The RStudio IDE (Integrated Development Environment) is the most
popular integrated development environment for <code>R</code>. It allows
you to write, run, and debug your <code>R</code> code.
<img src="figs/RStudio.jpg" alt="drawing" width="800"/></p>
<p>Check this <a
href="https://raw.githubusercontent.com/rstudio/cheatsheets/master/rstudio-ide.pdf">cheat
sheet</a> (may need VPN) for more features and shortcuts of the RStudio
IDE.</p>
<hr />
<p><em>The notes below are modified from the excellent <a
href="http://swcarpentry.github.io/r-novice-gapminder/">online R
tutorial</a> freely available on the Software Carpentry
website.</em></p>
<hr />
</div>
<div id="quick-r-tutorial" class="section level1">
<h1>Quick <code>R</code> tutorial</h1>
<div id="using-r-as-a-calculator" class="section level2">
<h2>Using <code>R</code> as a calculator</h2>
<p>The simplest thing you could do with <code>R</code> is to do
arithmetic. Let try this in the <strong>Console</strong> window:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><code>R</code> will print out the answer with a preceding
<code>## [1]</code> (my PC) or <code>[1]</code> (your laptop). Don’t
worry about this for now, we will explain that later. For now, think of
it as indicating output.</p>
<p>You will find the spaces have no impact on the result.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>When using <code>R</code> as a calculator, the order of operations is
the same as you would have learned back in school. From highest to
lowest precedence:</p>
<ul>
<li>Parentheses: <code>(</code>, <code>)</code></li>
<li>Exponents: <code>^</code> or <code>**</code></li>
<li>Multiply: <code>*</code></li>
<li>Divide: <code>/</code></li>
<li>Add: <code>+</code></li>
<li>Subtract: <code>-</code></li>
</ul>
<p>Let’s try</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>(<span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>(<span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">^</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 27</code></pre>
<p>Always think about clarifying your intentions, as others may later
read your code. Here we call such intentions as <em>comments</em>.
Anything that follows after the hash symbol <code>#</code> is ignored by
<code>R</code> when it executes code.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Get the square root of 100</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="dv">100</span> <span class="sc">^</span> <span class="fl">0.5</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Really small or large numbers get a <em>scientific notation</em>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">/</span> <span class="dv">10000</span></span></code></pre></div>
<pre><code>## [1] 2e-04</code></pre>
<p>You can write numbers in scientific notation too:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fl">5e+5</span> <span class="sc">*</span> <span class="fl">1e+5</span></span></code></pre></div>
<pre><code>## [1] 5e+10</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fl">5.2E+5</span> <span class="sc">+</span> <span class="fl">4.8E+6</span></span></code></pre></div>
<pre><code>## [1] 5320000</code></pre>
</div>
<div id="mathematical-functions" class="section level2">
<h2>Mathematical functions</h2>
<p><code>R</code> has many built-in mathematical functions. To call a
function, we can type its name, followed by open and closing parentheses
<code>()</code>. Anything we type inside the parentheses is called the
function’s <em>arguments</em>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Trigonometry functions</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="fu">sin</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 0.841471</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">sin</span>(<span class="fl">0.5</span><span class="sc">*</span>pi)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co"># Natural logarithm</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 2.302585</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Base-10 logarithm</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="fu">log10</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># e^(1/2)</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="fu">exp</span>(<span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## [1] 1.648721</code></pre>
<p>Don’t worry about trying to remember every function in
<code>R</code>. You can look them up online, or if you can remember the
start of the function’s name, use the <code>Tab</code> completion in
RStudio.</p>
<p>This is one advantage that RStudio has over <code>R</code> on its
own; it has <em>auto-completion abilities</em> that allow you to more
easily look up functions, their arguments, and the values that they
take. In fact, the auto-completion abilities do not limit to functions,
but also to variables.</p>
<p>Typing a <code>?</code> before the name of a command will open the
help page for that command. When using RStudio, this will open the
<strong>Help</strong> window. The help page will include a detailed
description of the command and how it works. Scrolling to the bottom of
the help page will usually show a collection of code examples that
illustrate command usage. We will go back to how to get help later in
this section.</p>
</div>
<div id="comparing-things" class="section level2">
<h2>Comparing things</h2>
<p>We can also do comparisons in <code>R</code>:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="co"># Equality (note two equals signs, read as &quot;is equal to&quot;)</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="dv">1</span> <span class="sc">==</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Inequality (read as &quot;is not equal to&quot;)</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="dv">3</span> <span class="sc">!=</span> <span class="dv">2</span>  </span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># Less than</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="dv">100</span> <span class="sc">&lt;</span> <span class="dv">101</span>  </span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="co"># Less than or equal to</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="fl">1e3</span> <span class="sc">&lt;=</span> <span class="fl">2e3</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="co"># Greater than</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">3</span> <span class="sc">&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="co"># Greater than or equal to</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="sc">-</span><span class="dv">100</span> <span class="sc">&gt;</span> <span class="sc">-</span><span class="dv">200</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>A word of warning about comparing numbers: you should never use
<code>==</code> to compare two numbers unless they are integers (a data
type which can specifically represent only whole numbers).</p>
</div>
<div id="variables-and-assignment" class="section level2">
<h2>Variables and assignment</h2>
<p>We can store values in variables using the assignment operator
<code>&lt;-</code>, like this:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="co"># Assignment</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">100</span></span></code></pre></div>
<p>Notice that the assignment does not print a value. Instead, we stored
it for later in something called a <em>variable</em>. <code>x</code> now
contains the value <code>0.01</code>:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="co"># Print x</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 0.01</code></pre>
<p>Remember, you can always print a variable (in fact, anything) using
the function <code>print()</code>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="fu">print</span>(x)</span></code></pre></div>
<pre><code>## [1] 0.01</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Hello World&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hello World&quot;</code></pre>
<p>You can also assign a character to a variable</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a>MyName <span class="ot">&lt;-</span> <span class="st">&quot;SUSTech&quot;</span></span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="fu">print</span>(MyName)</span></code></pre></div>
<pre><code>## [1] &quot;SUSTech&quot;</code></pre>
<p>Look for the <strong>Environment</strong> window from the top right
panel of RStudio, and you will see that <code>x</code> and its value
have appeared. Our variable <code>x</code> can be used in place of a
number in any calculation that expects a number:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="co"># Print x</span></span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a><span class="fu">log10</span>(x)</span></code></pre></div>
<pre><code>## [1] -2</code></pre>
<p>Notice also that variables can be reassigned:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="co"># Assignment</span></span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">100</span></span></code></pre></div>
<p><code>x</code> used to contain the value <code>0.01</code>, and now
it has the value <code>100</code>.</p>
<p>Assignment values can contain the variable being assigned to:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a><span class="co"># Notice how RStudio updates its description of x on the top right tab</span></span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="dv">1</span> </span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> x <span class="sc">*</span> <span class="dv">2</span></span></code></pre></div>
<p>The right-hand side of the assignment can be any valid <code>R</code>
expression. The right-hand side is <strong>fully evaluated</strong>
before the assignment occurs.</p>
<p>Variable names can contain letters, numbers, underscores, periods,
<strong>but no spaces</strong>. They must start with a letter or a
period followed by a letter (they cannot start with a number nor an
underscore). Variables beginning with a period are hidden variables.
Different people use different conventions for long variable names.
Whatever you use is up to you, but be consistent.</p>
</div>
<div id="vectorization" class="section level2">
<h2>Vectorization</h2>
<p>One thing to be aware of is that <code>R</code> is
<em>vectorized</em>, meaning that variables and functions can have
vectors as values. In contrast to physics and mathematics, a vector in
<code>R</code> describes a set of values <strong>in a certain
order</strong> of the same data type. For example:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">^</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]    2    4    8   16   32   64  128  256  512 1024</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb58-2"><a href="#cb58-2" tabindex="-1"></a><span class="dv">2</span> <span class="sc">^</span> x</span></code></pre></div>
<pre><code>##  [1]    2    4    8   16   32   64  128  256  512 1024</code></pre>
<p>This is incredibly powerful; we will discuss this further in an
upcoming section.</p>
</div>
<div id="managing-your-environment" class="section level2">
<h2>Managing your environment</h2>
<p>There are a few useful commands you can use to interact with the
<code>R</code> session.</p>
<p><code>ls()</code> will list all of the variables and functions stored
in the global environment (your working <code>R</code> session):</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>## [1] &quot;MyName&quot; &quot;x&quot;      &quot;y&quot;</code></pre>
<p>Note here that we didn’t give any arguments to <code>ls()</code>, but
we still needed to give the parentheses <code>()</code> to tell
<code>R</code> to call the function.</p>
<p>You can use <code>rm()</code> to delete objects you no longer
need:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="fu">rm</span>(x)</span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>## [1] &quot;MyName&quot; &quot;y&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">rm</span>(MyName, y)</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>## character(0)</code></pre>
</div>
<div id="conditional-statements" class="section level2">
<h2>Conditional statements</h2>
<p>Often when we are coding, we want to control the flow of our actions.
This can be done by setting actions to occur only if a condition or a
set of conditions are met. Alternatively, we can also set an action to
occur a particular number of times.</p>
<p>There are several ways you can control flow in <code>R</code>. For
conditional statements, the most commonly used approaches are the
<code>if</code> and <code>else</code> constructs.</p>
<p>Given today’s AQI (Air Quality Index) value, suppose we want to write
a piece of code to check whether the Air Quality is excellent (AQI &lt;=
<code>50</code>) or not.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a>AQI <span class="ot">&lt;-</span> <span class="dv">69</span></span></code></pre></div>
<p>Open a new R script
(<code>File -&gt; New File -&gt; R Script</code>), and you should see a
new panel in your RStudio. Type the following lines in the script, and
save it. Select the lines you want to run, there are two ways to do
so:</p>
<ul>
<li>Type <code>Ctrl</code>+<code>Enter</code></li>
<li>Click <code>Run</code> then <code>Run Select Line(s)</code> from the
top-right of the <strong>Script</strong> window.</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a>AQI <span class="ot">&lt;-</span> <span class="dv">69</span></span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a><span class="co"># If this condition is TRUE</span></span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a><span class="cf">if</span> (AQI <span class="sc">&lt;=</span> <span class="dv">50</span>) { </span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a>  <span class="co"># Do the following</span></span>
<span id="cb67-5"><a href="#cb67-5" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Air Quality is Excellent&quot;</span>)</span>
<span id="cb67-6"><a href="#cb67-6" tabindex="-1"></a>}</span></code></pre></div>
<p>The print statement does not appear in the <strong>console</strong>
because <code>AQI</code> is larger than <code>50</code>. To print a
different message for numbers larger than <code>50</code>, we can add an
else statement.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="co"># If this condition is TRUE</span></span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a><span class="cf">if</span> (AQI <span class="sc">&lt;=</span> <span class="dv">50</span>) {</span>
<span id="cb68-3"><a href="#cb68-3" tabindex="-1"></a>  <span class="co"># Do the following</span></span>
<span id="cb68-4"><a href="#cb68-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Air Quality is Excellent&quot;</span>)</span>
<span id="cb68-5"><a href="#cb68-5" tabindex="-1"></a><span class="co"># If this condition is FALSE  </span></span>
<span id="cb68-6"><a href="#cb68-6" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb68-7"><a href="#cb68-7" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Air Quality is NOT Excellent&quot;</span>)</span>
<span id="cb68-8"><a href="#cb68-8" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Air Quality is NOT Excellent&quot;</code></pre>
<p>You can also test multiple conditions by using
<code>else if</code>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="cf">if</span> (AQI <span class="sc">&lt;=</span> <span class="dv">50</span>) {</span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Air Quality is Excellent&quot;</span>)</span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (AQI <span class="sc">&lt;=</span> <span class="dv">100</span>) {</span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Air Quality is GOOD&quot;</span>)</span>
<span id="cb70-5"><a href="#cb70-5" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb70-6"><a href="#cb70-6" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Air Pollution!&quot;</span>)</span>
<span id="cb70-7"><a href="#cb70-7" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Air Quality is GOOD&quot;</code></pre>
<p>Change <code>AQI</code> to <code>40</code>, <code>80</code>, and
<code>120</code>, check the ouput.</p>
<p><strong>Important</strong>: when <code>R</code> evaluates the
condition inside <code>if()</code> statements, it is looking for a
logical element, <em>i.e.</em>, <code>TRUE</code> or <code>FALSE</code>.
This can cause some headaches for beginners. For example:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a>x  <span class="ot">&lt;-</span>  <span class="dv">4</span> <span class="sc">==</span> <span class="dv">3</span></span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a><span class="cf">if</span> (x) {</span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a>  <span class="st">&quot;4 equals 3&quot;</span></span>
<span id="cb72-4"><a href="#cb72-4" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb72-5"><a href="#cb72-5" tabindex="-1"></a>  <span class="st">&quot;4 does not equal 3&quot;</span>          </span>
<span id="cb72-6"><a href="#cb72-6" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;4 does not equal 3&quot;</code></pre>
<p>We can use logical AND <code>&amp;&amp;</code> and OR <code>||</code>
operator for more than one condition:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a><span class="cf">if</span> (AQI <span class="sc">&gt;</span> <span class="dv">50</span> <span class="sc">&amp;&amp;</span> AQI <span class="sc">&lt;=</span> <span class="dv">100</span>) {</span>
<span id="cb74-2"><a href="#cb74-2" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;Air Quality is Good&quot;</span>)</span>
<span id="cb74-3"><a href="#cb74-3" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Air Quality is Good&quot;</code></pre>
<p>Change <code>AQI</code> to <code>40</code>, <code>80</code>, and
<code>120</code>, check the ouput.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a>AQI1 <span class="ot">&lt;-</span> <span class="dv">69</span></span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a>AQI2 <span class="ot">&lt;-</span> <span class="dv">140</span></span>
<span id="cb76-3"><a href="#cb76-3" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" tabindex="-1"></a><span class="cf">if</span> (AQI1 <span class="sc">&lt;=</span> <span class="dv">100</span> <span class="sc">||</span> AQI2 <span class="sc">&lt;=</span> <span class="dv">100</span>) {</span>
<span id="cb76-5"><a href="#cb76-5" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;There is at least 1 site with a GOOD air quality&quot;</span>)</span>
<span id="cb76-6"><a href="#cb76-6" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;There is at least 1 site with a GOOD air quality&quot;</code></pre>
<p>Change <code>AQI1</code> to <code>40</code>, <code>80</code>, and
<code>120</code>, check the ouput.</p>
</div>
<div id="defining-a-function" class="section level2">
<h2>Defining a Function</h2>
<p>You probably have realized it’s really tedious to change the AQI
variables. It would be really helpful to define a <em>function</em> that
handles different inputs automatically.</p>
<p>A function is a set of statements organized together to perform a
specific task. <code>R</code> has a large number of in-built functions
and the user can create their own functions. In <code>R</code>, a
function is an object so the <code>R</code> interpreter is able to pass
control to the function, along with arguments that may be necessary for
the function to accomplish the actions. The function in turn performs
its task and returns control to the interpreter as well as any result
which may be stored in other objects.</p>
<p>An <code>R</code> function is created by using the keyword
<strong>function</strong>. The basic syntax of an <code>R</code>
function definition is as follows:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(argument_1, argument_2, ...) {</span>
<span id="cb78-2"><a href="#cb78-2" tabindex="-1"></a>   Function body </span>
<span id="cb78-3"><a href="#cb78-3" tabindex="-1"></a>}</span></code></pre></div>
<p>In the above AQI example, we can define a function named
<code>Check_Air_Quality</code> as:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a>Check_Air_Quality<span class="ot">&lt;-</span> <span class="cf">function</span>(AQI) {</span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a>  <span class="co">#  Excellent </span></span>
<span id="cb79-3"><a href="#cb79-3" tabindex="-1"></a>  <span class="cf">if</span> (AQI <span class="sc">&lt;=</span> <span class="dv">50</span>) {</span>
<span id="cb79-4"><a href="#cb79-4" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;Air Quality is Excellent&quot;</span>)</span>
<span id="cb79-5"><a href="#cb79-5" tabindex="-1"></a>  }</span>
<span id="cb79-6"><a href="#cb79-6" tabindex="-1"></a>  <span class="co"># Good</span></span>
<span id="cb79-7"><a href="#cb79-7" tabindex="-1"></a>  <span class="cf">if</span> (AQI <span class="sc">&gt;</span> <span class="dv">50</span> <span class="sc">&amp;&amp;</span> AQI <span class="sc">&lt;=</span> <span class="dv">100</span>) {</span>
<span id="cb79-8"><a href="#cb79-8" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;Air Quality is Good&quot;</span>)</span>
<span id="cb79-9"><a href="#cb79-9" tabindex="-1"></a>  }</span>
<span id="cb79-10"><a href="#cb79-10" tabindex="-1"></a>  <span class="co"># Polluted, Level I</span></span>
<span id="cb79-11"><a href="#cb79-11" tabindex="-1"></a>  <span class="cf">if</span> (AQI <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">&amp;&amp;</span> AQI <span class="sc">&lt;=</span> <span class="dv">150</span>) {</span>
<span id="cb79-12"><a href="#cb79-12" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;Air pollution, level I&quot;</span>)</span>
<span id="cb79-13"><a href="#cb79-13" tabindex="-1"></a>  }  </span>
<span id="cb79-14"><a href="#cb79-14" tabindex="-1"></a>  <span class="co"># Polluted, Level II</span></span>
<span id="cb79-15"><a href="#cb79-15" tabindex="-1"></a>  <span class="cf">if</span> (AQI <span class="sc">&gt;</span> <span class="dv">150</span> <span class="sc">&amp;&amp;</span> AQI <span class="sc">&lt;=</span> <span class="dv">200</span>) {</span>
<span id="cb79-16"><a href="#cb79-16" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;Air pollution, level II&quot;</span>)</span>
<span id="cb79-17"><a href="#cb79-17" tabindex="-1"></a>  }  </span>
<span id="cb79-18"><a href="#cb79-18" tabindex="-1"></a>  <span class="co"># Polluted, Level III</span></span>
<span id="cb79-19"><a href="#cb79-19" tabindex="-1"></a>  <span class="cf">if</span> (AQI <span class="sc">&gt;</span> <span class="dv">200</span> <span class="sc">&amp;&amp;</span> AQI <span class="sc">&lt;=</span> <span class="dv">300</span>) {</span>
<span id="cb79-20"><a href="#cb79-20" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;Air pollution, level III&quot;</span>)</span>
<span id="cb79-21"><a href="#cb79-21" tabindex="-1"></a>  }  </span>
<span id="cb79-22"><a href="#cb79-22" tabindex="-1"></a>  <span class="co"># Polluted, Level IV</span></span>
<span id="cb79-23"><a href="#cb79-23" tabindex="-1"></a>  <span class="cf">if</span> (AQI <span class="sc">&gt;</span> <span class="dv">300</span>) {</span>
<span id="cb79-24"><a href="#cb79-24" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;Air pollution, level IV&quot;</span>)</span>
<span id="cb79-25"><a href="#cb79-25" tabindex="-1"></a>  }  </span>
<span id="cb79-26"><a href="#cb79-26" tabindex="-1"></a>}</span></code></pre></div>
<p>Call <code>Check_Air_Quality</code> with various <code>AQI</code>
values: <code>40</code>, <code>80</code>, <code>120</code>,
<code>160</code>, <code>240</code>, and <code>340</code>:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a><span class="fu">Check_Air_Quality</span>(<span class="dv">40</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Air Quality is Excellent&quot;</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a><span class="fu">Check_Air_Quality</span>(<span class="dv">80</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Air Quality is Good&quot;</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a><span class="fu">Check_Air_Quality</span>(<span class="dv">120</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Air pollution, level I&quot;</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a><span class="fu">Check_Air_Quality</span>(<span class="dv">160</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Air pollution, level II&quot;</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a><span class="fu">Check_Air_Quality</span>(<span class="dv">240</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Air pollution, level III&quot;</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" tabindex="-1"></a><span class="fu">Check_Air_Quality</span>(<span class="dv">500</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Air pollution, level IV&quot;</code></pre>
</div>
<div id="repeating-operations" class="section level2">
<h2>Repeating operations</h2>
<p>If you want to iterate over a set of values, when the order of
iteration is important, and perform the same operation on each, a
<code>for()</code> loop will do the job. This is the <strong>most
flexible</strong> of looping operations, but therefore also the
<strong>hardest</strong> to use correctly.</p>
<p>In general, the advice of many <code>R</code> users would be to learn
about <code>for()</code> loops but to avoid using <code>for()</code>
loops unless the order of iteration is important: <em>i.e.</em>, the
calculation at each iteration depends on the results of previous
iterations.</p>
<p>Let’s define a list <code>Forecast_List</code>, which contains daily
mean temperature forecasts in 5 days in Shenzhen:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" tabindex="-1"></a>Forecast_List <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">28</span>, <span class="dv">27</span>, <span class="dv">28</span>, <span class="dv">26</span>, <span class="dv">27</span>)</span></code></pre></div>
<p>Here <code>c()</code> means “combine”:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" tabindex="-1"></a><span class="fu">print</span>(Forecast_List)</span></code></pre></div>
<pre><code>## [1] 28 27 28 26 27</code></pre>
<p>Now loop each element in <code>Forecast_List</code>:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" tabindex="-1"></a><span class="cf">for</span> (Daily_T <span class="cf">in</span> Forecast_List) { <span class="co"># If this condition is TRUE</span></span>
<span id="cb95-2"><a href="#cb95-2" tabindex="-1"></a>  <span class="co"># Do following</span></span>
<span id="cb95-3"><a href="#cb95-3" tabindex="-1"></a>  <span class="fu">print</span>(Daily_T)</span>
<span id="cb95-4"><a href="#cb95-4" tabindex="-1"></a>} <span class="co"># End of the for loop</span></span></code></pre></div>
<pre><code>## [1] 28
## [1] 27
## [1] 28
## [1] 26
## [1] 27</code></pre>
<p>We can use a <code>for()</code> loop nested within another
<code>for()</code> loop to iterate over two things at once.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" tabindex="-1"></a><span class="cf">for</span> (Daily_T <span class="cf">in</span> Forecast_List) {</span>
<span id="cb97-2"><a href="#cb97-2" tabindex="-1"></a>  <span class="cf">for</span> (Hour <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>) {</span>
<span id="cb97-3"><a href="#cb97-3" tabindex="-1"></a>    Hourly_T <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>,Daily_T,<span class="dv">5</span>)</span>
<span id="cb97-4"><a href="#cb97-4" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(Daily_T,Hourly_T))</span>
<span id="cb97-5"><a href="#cb97-5" tabindex="-1"></a>  }</span>
<span id="cb97-6"><a href="#cb97-6" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;28 29.4974464253763&quot;
## [1] &quot;28 28.9120556274748&quot;
## [1] &quot;28 39.3356542608786&quot;
## [1] &quot;28 27.4604233835913&quot;
## [1] &quot;28 20.3688203720321&quot;
## [1] &quot;28 23.6720283186246&quot;
## [1] &quot;28 27.9913643750873&quot;
## [1] &quot;28 26.5239559601146&quot;
## [1] &quot;28 25.3901970095326&quot;
## [1] &quot;28 34.0946716696658&quot;
## [1] &quot;28 26.0479947543474&quot;
## [1] &quot;28 30.9964100014794&quot;
## [1] &quot;28 32.3174399603949&quot;
## [1] &quot;28 32.5686579247153&quot;
## [1] &quot;28 27.0493823793061&quot;
## [1] &quot;28 31.947297415507&quot;
## [1] &quot;28 30.2078281889006&quot;
## [1] &quot;28 38.3899657243723&quot;
## [1] &quot;28 22.8000688097486&quot;
## [1] &quot;28 23.8512318996943&quot;
## [1] &quot;28 23.4197151309577&quot;
## [1] &quot;28 34.5806645847246&quot;
## [1] &quot;28 29.2818929954542&quot;
## [1] &quot;28 29.010240790287&quot;
## [1] &quot;27 21.888011445128&quot;
## [1] &quot;27 19.7247429079237&quot;
## [1] &quot;27 22.5995505475833&quot;
## [1] &quot;27 28.6261041781826&quot;
## [1] &quot;27 29.8846885120435&quot;
## [1] &quot;27 30.5871457163934&quot;
## [1] &quot;27 29.6914964998374&quot;
## [1] &quot;27 28.4377787456752&quot;
## [1] &quot;27 27.5222869575035&quot;
## [1] &quot;27 30.8981625273379&quot;
## [1] &quot;27 30.7218191479103&quot;
## [1] &quot;27 33.7116876975854&quot;
## [1] &quot;27 19.7625685962159&quot;
## [1] &quot;27 24.1899353213164&quot;
## [1] &quot;27 18.5595387285347&quot;
## [1] &quot;27 19.6657811592715&quot;
## [1] &quot;27 29.6840020309214&quot;
## [1] &quot;27 30.9540641621429&quot;
## [1] &quot;27 23.4892335837426&quot;
## [1] &quot;27 16.2255495314928&quot;
## [1] &quot;27 21.6845017627306&quot;
## [1] &quot;27 32.3414963223375&quot;
## [1] &quot;27 31.7481270481468&quot;
## [1] &quot;27 23.9216480092569&quot;
## [1] &quot;28 31.2224300333456&quot;
## [1] &quot;28 33.3066856119409&quot;
## [1] &quot;28 23.4462683588277&quot;
## [1] &quot;28 24.0432251108871&quot;
## [1] &quot;28 27.7917781447409&quot;
## [1] &quot;28 26.2447457059167&quot;
## [1] &quot;28 17.84785197197&quot;
## [1] &quot;28 35.4028121357332&quot;
## [1] &quot;28 32.1740340774916&quot;
## [1] &quot;28 33.6048041502585&quot;
## [1] &quot;28 22.7390235986731&quot;
## [1] &quot;28 34.804236721145&quot;
## [1] &quot;28 27.2112927605634&quot;
## [1] &quot;28 32.1670672478447&quot;
## [1] &quot;28 21.2762864426395&quot;
## [1] &quot;28 29.7164565381437&quot;
## [1] &quot;28 34.8075282104777&quot;
## [1] &quot;28 20.7247800275962&quot;
## [1] &quot;28 32.1256265159692&quot;
## [1] &quot;28 14.1095627633979&quot;
## [1] &quot;28 30.3624781640826&quot;
## [1] &quot;28 32.7284231366564&quot;
## [1] &quot;28 30.8622458666924&quot;
## [1] &quot;28 20.9706998408641&quot;
## [1] &quot;26 31.1163318246472&quot;
## [1] &quot;26 34.1082831485368&quot;
## [1] &quot;26 23.0829814022398&quot;
## [1] &quot;26 27.7261645421005&quot;
## [1] &quot;26 27.1774502987147&quot;
## [1] &quot;26 23.8795926334346&quot;
## [1] &quot;26 24.9877773464285&quot;
## [1] &quot;26 25.0576814820723&quot;
## [1] &quot;26 22.5159337370264&quot;
## [1] &quot;26 26.6718164887836&quot;
## [1] &quot;26 24.5364224702201&quot;
## [1] &quot;26 29.2263822747862&quot;
## [1] &quot;26 25.0464030198876&quot;
## [1] &quot;26 28.8748135070724&quot;
## [1] &quot;26 24.143206225669&quot;
## [1] &quot;26 29.9693488858247&quot;
## [1] &quot;26 22.1588905729902&quot;
## [1] &quot;26 23.6912224026698&quot;
## [1] &quot;26 28.4592345812176&quot;
## [1] &quot;26 33.6775751154043&quot;
## [1] &quot;26 23.2516926760948&quot;
## [1] &quot;26 19.7706237110019&quot;
## [1] &quot;26 26.065140083713&quot;
## [1] &quot;26 16.9059208885489&quot;
## [1] &quot;27 21.8436917576068&quot;
## [1] &quot;27 22.0262426668839&quot;
## [1] &quot;27 28.9900870558574&quot;
## [1] &quot;27 28.9989151709697&quot;
## [1] &quot;27 25.7204779834096&quot;
## [1] &quot;27 29.7987568286502&quot;
## [1] &quot;27 26.9067380043085&quot;
## [1] &quot;27 25.8348471139442&quot;
## [1] &quot;27 20.0876892365729&quot;
## [1] &quot;27 29.3584011775628&quot;
## [1] &quot;27 30.0086469387658&quot;
## [1] &quot;27 20.2823762490149&quot;
## [1] &quot;27 18.1535323212423&quot;
## [1] &quot;27 32.9999220763631&quot;
## [1] &quot;27 28.3069583781359&quot;
## [1] &quot;27 26.5803670386453&quot;
## [1] &quot;27 22.9190587840591&quot;
## [1] &quot;27 32.2812810908487&quot;
## [1] &quot;27 18.744356798617&quot;
## [1] &quot;27 27.5724930848953&quot;
## [1] &quot;27 27.3992560056911&quot;
## [1] &quot;27 24.3511820723534&quot;
## [1] &quot;27 21.7517063821657&quot;
## [1] &quot;27 29.3422552029958&quot;</code></pre>
<p>Here at each <code>Hour</code> we use the <code>rnorm()</code>
function to generate <code>1</code> random Gaussian sample with a mean
of <code>Daily_T</code> and a standard deviation of <code>5</code>.</p>
<p>We notice in the output that when the first index
(<code>Daily_T</code>) is set to <code>28</code>, the second index
(<code>Hour</code>) iterates through its full set of indices. Once the
indices of <code>Hour</code> have been iterated through, then
<code>Daily_T</code> moves to the next one (<em>i.e.</em>,
<code>27</code>). This process continues until the last index has been
used for each <code>for()</code> loop.</p>
<p>Rather than printing the results, we could write the loop output to a
new <em>object</em>:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" tabindex="-1"></a>Output_List <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb99-2"><a href="#cb99-2" tabindex="-1"></a><span class="cf">for</span> (Daily_T <span class="cf">in</span> Forecast_List) {</span>
<span id="cb99-3"><a href="#cb99-3" tabindex="-1"></a>  <span class="cf">for</span> (Hour <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>) {</span>
<span id="cb99-4"><a href="#cb99-4" tabindex="-1"></a>    Hourly_T    <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>,Daily_T,<span class="dv">5</span>)</span>
<span id="cb99-5"><a href="#cb99-5" tabindex="-1"></a>    Temp_Value  <span class="ot">&lt;-</span> <span class="fu">paste</span>(Daily_T,Hourly_T)</span>
<span id="cb99-6"><a href="#cb99-6" tabindex="-1"></a>    Output_List <span class="ot">&lt;-</span> <span class="fu">c</span>(Output_List, Temp_Value)</span>
<span id="cb99-7"><a href="#cb99-7" tabindex="-1"></a>  }</span>
<span id="cb99-8"><a href="#cb99-8" tabindex="-1"></a>}</span>
<span id="cb99-9"><a href="#cb99-9" tabindex="-1"></a></span>
<span id="cb99-10"><a href="#cb99-10" tabindex="-1"></a><span class="fu">print</span>(Output_List)</span></code></pre></div>
<pre><code>##   [1] &quot;28 27.6627457329131&quot; &quot;28 29.4079674449342&quot; &quot;28 20.5346066978763&quot; &quot;28 25.4788876791479&quot;
##   [5] &quot;28 28.7803833893636&quot; &quot;28 26.8870634620623&quot; &quot;28 26.1952111409342&quot; &quot;28 20.8017384354151&quot;
##   [9] &quot;28 23.355335901575&quot;  &quot;28 40.016363512453&quot;  &quot;28 16.4359530817817&quot; &quot;28 26.6213446557335&quot;
##  [13] &quot;28 22.9895387368804&quot; &quot;28 26.4926945430222&quot; &quot;28 22.7742904403014&quot; &quot;28 23.2215950269992&quot;
##  [17] &quot;28 31.2327843253924&quot; &quot;28 27.2094463652536&quot; &quot;28 36.4894200961665&quot; &quot;28 30.9321750214801&quot;
##  [21] &quot;28 24.5028517381457&quot; &quot;28 34.8596729130794&quot; &quot;28 26.5054298799391&quot; &quot;28 31.3354812487395&quot;
##  [25] &quot;27 24.047246393787&quot;  &quot;27 24.0071408675774&quot; &quot;27 22.8410873944004&quot; &quot;27 17.6234804948337&quot;
##  [29] &quot;27 22.9345983116038&quot; &quot;27 28.9229487345294&quot; &quot;27 23.4810393443157&quot; &quot;27 19.7557344894601&quot;
##  [33] &quot;27 18.9113432121398&quot; &quot;27 29.9141615261244&quot; &quot;27 21.5434727962363&quot; &quot;27 17.1959307326136&quot;
##  [37] &quot;27 21.1730750443515&quot; &quot;27 25.3028472184396&quot; &quot;27 32.5064209059315&quot; &quot;27 30.9589072035616&quot;
##  [41] &quot;27 31.2110264157829&quot; &quot;27 17.1103790493243&quot; &quot;27 27.1191394048004&quot; &quot;27 30.617469153173&quot; 
##  [45] &quot;27 28.57424748648&quot;   &quot;27 30.9784229625238&quot; &quot;27 33.5690949485834&quot; &quot;27 31.572679217564&quot; 
##  [49] &quot;28 33.8536093243498&quot; &quot;28 30.7437890227794&quot; &quot;28 30.2052438451402&quot; &quot;28 33.4554836047877&quot;
##  [53] &quot;28 27.8300117240531&quot; &quot;28 23.0321987076321&quot; &quot;28 24.6482463722835&quot; &quot;28 25.1852864607119&quot;
##  [57] &quot;28 23.6830007448393&quot; &quot;28 27.5182948568767&quot; &quot;28 22.2623141615365&quot; &quot;28 28.3266199426603&quot;
##  [61] &quot;28 28.4009797708121&quot; &quot;28 19.9478910048827&quot; &quot;28 31.0994257152139&quot; &quot;28 14.5799475287953&quot;
##  [65] &quot;28 22.1334729488438&quot; &quot;28 29.7987171388807&quot; &quot;28 10.5239504643313&quot; &quot;28 23.0711399857545&quot;
##  [69] &quot;28 19.0037133882167&quot; &quot;28 26.4064693963095&quot; &quot;28 22.8755444546188&quot; &quot;28 36.0593798058704&quot;
##  [73] &quot;26 36.0345077256449&quot; &quot;26 27.0532810129733&quot; &quot;26 24.4662281771242&quot; &quot;26 30.3908637624897&quot;
##  [77] &quot;26 37.0210658945838&quot; &quot;26 23.5745192184348&quot; &quot;26 27.4266952848352&quot; &quot;26 22.0284646601354&quot;
##  [81] &quot;26 21.6811093123365&quot; &quot;26 22.2400066605464&quot; &quot;26 33.3406493904709&quot; &quot;26 27.0293144184162&quot;
##  [85] &quot;26 29.7505231239227&quot; &quot;26 22.8023818007196&quot; &quot;26 27.6448647405494&quot; &quot;26 20.9584809207129&quot;
##  [89] &quot;26 31.7869046057076&quot; &quot;26 23.7104381797476&quot; &quot;26 23.18103111768&quot;   &quot;26 22.3948746859389&quot;
##  [93] &quot;26 16.7900212967716&quot; &quot;26 34.1271656993327&quot; &quot;26 27.4587263151006&quot; &quot;26 29.5729123625565&quot;
##  [97] &quot;27 25.3077520794062&quot; &quot;27 23.4885052203758&quot; &quot;27 29.4097164385678&quot; &quot;27 32.5748409281731&quot;
## [101] &quot;27 20.9359036707075&quot; &quot;27 37.132125168515&quot;  &quot;27 27.6125607783454&quot; &quot;27 27.3744188853765&quot;
## [105] &quot;27 23.9828110800881&quot; &quot;27 22.1678937768079&quot; &quot;27 32.7370508954193&quot; &quot;27 31.8210969734355&quot;
## [109] &quot;27 30.950609611276&quot;  &quot;27 28.5201722652083&quot; &quot;27 30.0999069474124&quot; &quot;27 21.4727581422389&quot;
## [113] &quot;27 32.1823984851761&quot; &quot;27 31.1809135695311&quot; &quot;27 21.024159167946&quot;  &quot;27 31.1461886451594&quot;
## [117] &quot;27 21.0146770318017&quot; &quot;27 24.868234943761&quot;  &quot;27 29.6600935055916&quot; &quot;27 27.9356495293401&quot;</code></pre>
<p>This approach can be useful, but “growing your results” (building the
result object incrementally) is <strong>computationally
inefficient</strong>, so avoid it when you are iterating through a lot
of values.</p>
<p><strong>Important</strong>: One of the biggest things that trips up
novices and experienced <code>R</code> users alike, is building a
results object (<em>vector</em>, <em>list</em>, <em>matrix</em>,
<em>data frame</em>) as your for loop progresses. Computers are very bad
at handling this, so your calculations can very quickly slow to a crawl.
It’s much better to define an <strong>empty results object</strong>
beforehand of appropriate dimensions, rather than initializing an empty
object without dimensions. So if you know the end result will be stored
in a matrix-like above, create an empty matrix with <code>5</code> row
and <code>24</code> columns, then at each iteration stores the results
in the appropriate location.</p>
<div class="sourceCode" id="cb101"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" tabindex="-1"></a>Output_Matrix    <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">24</span>)</span>
<span id="cb101-2"><a href="#cb101-2" tabindex="-1"></a><span class="cf">for</span> (Day <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb101-3"><a href="#cb101-3" tabindex="-1"></a>  Daily_T        <span class="ot">&lt;-</span> Forecast_List[Day]</span>
<span id="cb101-4"><a href="#cb101-4" tabindex="-1"></a>  <span class="cf">for</span> (Hour <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>) {</span>
<span id="cb101-5"><a href="#cb101-5" tabindex="-1"></a>    Hourly_T     <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>,Daily_T,<span class="dv">5</span>)</span>
<span id="cb101-6"><a href="#cb101-6" tabindex="-1"></a>    Temp_Value   <span class="ot">&lt;-</span> <span class="fu">paste</span>(Daily_T,Hourly_T)</span>
<span id="cb101-7"><a href="#cb101-7" tabindex="-1"></a>    Output_Matrix[Day, Hour] <span class="ot">&lt;-</span> Temp_Value</span>
<span id="cb101-8"><a href="#cb101-8" tabindex="-1"></a>  }</span>
<span id="cb101-9"><a href="#cb101-9" tabindex="-1"></a>}</span>
<span id="cb101-10"><a href="#cb101-10" tabindex="-1"></a>Output_Matrix2 <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(Output_Matrix)</span>
<span id="cb101-11"><a href="#cb101-11" tabindex="-1"></a>Output_Matrix2</span></code></pre></div>
<pre><code>##   [1] &quot;28 29.1035539388212&quot; &quot;27 27.1085140502513&quot; &quot;28 19.3566438430853&quot; &quot;26 30.2560290348911&quot;
##   [5] &quot;27 24.9822109563315&quot; &quot;28 27.159163285212&quot;  &quot;27 12.9154034461859&quot; &quot;28 21.1688060509444&quot;
##   [9] &quot;26 33.2514511441109&quot; &quot;27 27.9018874983173&quot; &quot;28 27.7738934674239&quot; &quot;27 27.8867028771545&quot;
##  [13] &quot;28 27.3958363946161&quot; &quot;26 19.8351956674141&quot; &quot;27 17.4125538675129&quot; &quot;28 28.2599226310411&quot;
##  [17] &quot;27 32.8840118040937&quot; &quot;28 29.9986727205323&quot; &quot;26 30.9130986324767&quot; &quot;27 29.9363395519902&quot;
##  [21] &quot;28 29.7538730087507&quot; &quot;27 31.3404842848997&quot; &quot;28 28.8303915139918&quot; &quot;26 35.3770025489862&quot;
##  [25] &quot;27 29.8294418095252&quot; &quot;28 32.0688034937059&quot; &quot;27 29.4213765861961&quot; &quot;28 37.1670073663599&quot;
##  [29] &quot;26 24.4630983366934&quot; &quot;27 33.6887674179095&quot; &quot;28 24.6312672640268&quot; &quot;27 32.8413115480949&quot;
##  [33] &quot;28 29.7527156995909&quot; &quot;26 25.2224996191169&quot; &quot;27 32.5429471771229&quot; &quot;28 31.3018553921565&quot;
##  [37] &quot;27 27.2757403546591&quot; &quot;28 31.7974794707003&quot; &quot;26 32.0303777084167&quot; &quot;27 22.0699100322676&quot;
##  [41] &quot;28 24.9266688765925&quot; &quot;27 21.7400552900812&quot; &quot;28 35.445456527765&quot;  &quot;26 20.1098559421246&quot;
##  [45] &quot;27 31.2066203800542&quot; &quot;28 21.381587913266&quot;  &quot;27 35.5103365423053&quot; &quot;28 25.7800608217253&quot;
##  [49] &quot;26 22.9667900273152&quot; &quot;27 28.9928680046233&quot; &quot;28 34.2394935510202&quot; &quot;27 30.5579920048068&quot;
##  [53] &quot;28 30.4927721638809&quot; &quot;26 30.0892856658825&quot; &quot;27 27.8341476164938&quot; &quot;28 25.2662986323854&quot;
##  [57] &quot;27 21.196024042682&quot;  &quot;28 26.6325043311504&quot; &quot;26 26.4990244314455&quot; &quot;27 31.1356370556521&quot;
##  [61] &quot;28 29.028728717218&quot;  &quot;27 29.6475849868542&quot; &quot;28 27.7686508974595&quot; &quot;26 25.078640485661&quot; 
##  [65] &quot;27 22.8563459031398&quot; &quot;28 28.3555717314136&quot; &quot;27 23.8955474936057&quot; &quot;28 28.9145431250362&quot;
##  [69] &quot;26 28.110183179502&quot;  &quot;27 15.3948885985961&quot; &quot;28 23.6218235183816&quot; &quot;27 19.2116551086608&quot;
##  [73] &quot;28 25.1066775948966&quot; &quot;26 15.4405424560772&quot; &quot;27 27.5297086214917&quot; &quot;28 22.5799862174029&quot;
##  [77] &quot;27 21.4205836294089&quot; &quot;28 31.5871586916254&quot; &quot;26 31.3366773844458&quot; &quot;27 30.1204395772721&quot;
##  [81] &quot;28 24.5704670595469&quot; &quot;27 23.7664586801625&quot; &quot;28 20.9950939801586&quot; &quot;26 19.2110424504154&quot;
##  [85] &quot;27 24.4200550068949&quot; &quot;28 28.7513727270193&quot; &quot;27 27.1808062024678&quot; &quot;28 34.797093089953&quot; 
##  [89] &quot;26 27.1292492584794&quot; &quot;27 23.0212417991036&quot; &quot;28 38.0506088338972&quot; &quot;27 16.5266092603531&quot;
##  [93] &quot;28 20.3015111785769&quot; &quot;26 15.7787906114031&quot; &quot;27 25.2448640182643&quot; &quot;28 21.7081290637133&quot;
##  [97] &quot;27 26.5970353482362&quot; &quot;28 26.6791963545951&quot; &quot;26 16.146955989107&quot;  &quot;27 8.82603968293821&quot;
## [101] &quot;28 34.0408338366961&quot; &quot;27 29.2407637053286&quot; &quot;28 34.6683868071717&quot; &quot;26 26.1245286494734&quot;
## [105] &quot;27 25.3100156155805&quot; &quot;28 23.5569788745446&quot; &quot;27 18.7659744301119&quot; &quot;28 27.2128969419693&quot;
## [109] &quot;26 32.5440621445002&quot; &quot;27 25.8487787671693&quot; &quot;28 25.8910143152132&quot; &quot;27 28.675394771064&quot; 
## [113] &quot;28 26.5633636756335&quot; &quot;26 28.8905700332709&quot; &quot;27 23.5612770529097&quot; &quot;28 26.3288621754348&quot;
## [117] &quot;27 16.178659320085&quot;  &quot;28 37.7679730701364&quot; &quot;26 19.7661304650347&quot; &quot;27 23.8776469163956&quot;</code></pre>
<p>Here we use <code>matrix()</code> to create an empty matrix with
<code>5</code> rows and <code>24</code> columns, and use
<code>as.vector()</code> to convert the <code>5x24</code> matrix into a
vector with a length of <code>120</code>.</p>
<p>Sometimes you will find yourself needing to repeat an operation as
long as a certain condition is met. You can do this with a
<code>while()</code> loop.</p>
<div class="sourceCode" id="cb103"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb103-2"><a href="#cb103-2" tabindex="-1"></a><span class="cf">while</span>(z <span class="sc">&lt;=</span> <span class="dv">5</span>){ <span class="co"># While this condition is TRUE</span></span>
<span id="cb103-3"><a href="#cb103-3" tabindex="-1"></a>  <span class="co"># Do following</span></span>
<span id="cb103-4"><a href="#cb103-4" tabindex="-1"></a>  z <span class="ot">&lt;-</span> z <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb103-5"><a href="#cb103-5" tabindex="-1"></a>  <span class="fu">print</span>(z)</span>
<span id="cb103-6"><a href="#cb103-6" tabindex="-1"></a>} <span class="co"># End of the while loop</span></span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
## [1] 6</code></pre>
<p>OK, can you figure out why the number <code>6</code> is also
printed?</p>
<p><code>while()</code> loops will <strong>not</strong> always be
appropriate. You have to be <strong>particularly careful</strong> that
you don’t end up stuck in an infinite loop because your condition is
always met, and hence the while statement never terminates.</p>
</div>
<div id="r-packages" class="section level2">
<h2><code>R</code> Packages</h2>
<p>It is possible to add functions to <code>R</code> by writing a
<em>package</em> or by obtaining a package written by someone else. As
of this writing, there are over <code>16000</code> packages available on
CRAN (the comprehensive R archive network). RStudio has functionality
for managing packages. You can:</p>
<ul>
<li>See what packages are installed by typing
<code>installed.packages()</code></li>
<li>Install packages by typing
<code>install.packages("packagename")</code>, where
<code>packagename</code> is the package name, in quotes.</li>
<li>Update installed packages by typing
<code>update.packages()</code></li>
<li>Remove a package with
<code>remove.packages("packagename")</code></li>
<li>Make a package available for use with
<code>library(packagename)</code>, no quotes.</li>
</ul>
<p>Packages can also be viewed, loaded, and detached in the Packages tab
of the lower-right panel in RStudio.</p>
<p><img src="figs/packages.jpg" alt="drawing" width="800"/></p>
<p>Clicking on this tab will display all of the installed packages with
a checkbox next to them. If the box next to a package name is checked,
the package is loaded, and if it is empty, the package is not loaded.
Click an empty box to load that package and click a checked box to
detach that package.</p>
<p>Packages can be installed and updated from the Package tab with the
Install and Update buttons at the top of the tab.</p>
</div>
<div id="working-directory" class="section level2">
<h2>Working directory</h2>
<p>If you want to read files from a specific location or write files to
a specific location, you need to set <em>working directory</em> in
<code>R</code>. This can be accomplished by specifying path with
<code>setwd()</code> function. First, let’s check the working directory
using <code>getwd()</code>.</p>
<div class="sourceCode" id="cb105"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" tabindex="-1"></a><span class="co"># Get current working directory in R</span></span>
<span id="cb105-2"><a href="#cb105-2" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>You can change the working directory using <code>setwd()</code>:</p>
<div class="sourceCode" id="cb106"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a><span class="co"># Set working directory</span></span>
<span id="cb106-2"><a href="#cb106-2" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;D://ese335&quot;</span>)</span></code></pre></div>
<p>Or you may use RStudio through GUI - click <code>Session</code> then
<code>Set Working Directory</code>, followed by
<code>Choose Directory</code>.</p>
</div>
<div id="seeking-help" class="section level2">
<h2>Seeking Help</h2>
<p><strong>Reading Help files</strong></p>
<p><code>R</code>, and every package, provides help files for functions.
The general syntax to search for help on any function,
<code>? function_name</code>, from a specific function that is in a
package loaded into your namespace (your interactive <code>R</code>
session):</p>
<p><code>?function_name</code> or <code>help(function_name)</code></p>
<p>This will load up a help page in RStudio.</p>
<p><strong>Special Operators</strong></p>
<p>To seek help on special operators, use quotes:
<code>?"&gt;="</code></p>
<p><strong>When you have no idea where to begin</strong></p>
<p>If you don’t know what function or package you need to use <a
href="https://cran.r-project.org/web/views/">CRAN Task Views</a> is a
specially maintained list of packages grouped into fields. This can be a
good starting point.</p>
<p><strong>When your code doesn’t work: seeking help from your
peers</strong></p>
<p>If you are having trouble using a function, 9 times out of 10, the
answers you are seeking have <strong><em>already been
answered</em></strong> on <a href="https://stackoverflow.com/">Stack
Overflow</a>. You can search using the <code>[r]</code> tag.</p>
<hr />
</div>
</div>
<div id="in-class-exercises" class="section level1">
<h1>In-class exercises</h1>
<div id="exercise-1" class="section level2">
<h2>Exercise #1</h2>
<ul>
<li>Creat a folder named <code>ese335</code>
<ul>
<li>Windows: In <code>C:\</code> or <code>D:\</code> disk</li>
<li>macOS: In <code>/home/</code></li>
</ul></li>
<li>Change RStudio <code>Working directory</code> to the above
folder</li>
</ul>
</div>
<div id="exercise-2" class="section level2">
<h2>Exercise #2</h2>
<div class="sourceCode" id="cb107"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" tabindex="-1"></a>X1  <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb107-2"><a href="#cb107-2" tabindex="-1"></a>X2  <span class="ot">&lt;-</span> <span class="dv">120</span></span>
<span id="cb107-3"><a href="#cb107-3" tabindex="-1"></a>X3  <span class="ot">&lt;-</span> X2 <span class="sc">*</span> <span class="fl">2.0</span></span>
<span id="cb107-4"><a href="#cb107-4" tabindex="-1"></a>X4  <span class="ot">&lt;-</span> X1 <span class="sc">-</span> <span class="dv">20</span></span>
<span id="cb107-5"><a href="#cb107-5" tabindex="-1"></a>X5  <span class="ot">&lt;-</span> X1 <span class="sc">&gt;</span> X2</span></code></pre></div>
<p>What will be the value of each variable after each statement in the
program?</p>
<ul>
<li>Now type the above codes in <strong>Console</strong>, check your
results.<br />
</li>
<li>Write a command to compare <code>X3</code> to <code>X4</code>. Which
one is larger?</li>
<li>Clean up your working environment by deleting the <code>X1</code>,
<code>X2</code>, and <code>X3</code> variables.</li>
</ul>
<hr />
</div>
</div>
<div id="further-reading" class="section level1">
<h1>Further reading</h1>
<ul>
<li><a
href="https://cran.r-project.org/doc/contrib/Short-refcard.pdf"><code>R</code>
Reference Card</a></li>
<li><a
href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/rstudio-ide.pdf">RStudio
IDE cheat sheet</a></li>
<li><a
href="https://dss.princeton.edu/training/RStudio101.pdf">Introduction to
RStudio</a></li>
<li><a
href="http://swcarpentry.github.io/r-novice-gapminder/"><code>R</code>
for Reproducible Scientific Analysis</a></li>
<li><a
href="http://swcarpentry.github.io/r-novice-inflammation/">Programming
with <code>R</code></a></li>
<li><a href="http://www.r-tutor.com/r-introduction"><code>R</code>
Introduction</a></li>
<li><a
href="https://www.statmethods.net/r-tutorial/index.html"><code>R</code>
Tutorial For Beginners - Quick-R</a></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
